!function(e,t){e.customize.ColorSchemeControl=e.customize.Control.extend({ready:function(){var o,c=this,s=t(".radios",this.container),n=t(".selection",this.container),i=t(".scheme",n),r=c.params.schemes,l="custom"!==c.setting.get()?r[c.setting.get()].colors:{},u=t(".apply-scheme",this.container),a=[];o=function(o){if(0==a.length)for(scheme in r)a.push(r[scheme].color),t.each(r[scheme].colors,function(t,o){e.customize.has(t)&&e.customize(t,function(e){e.color_scheme_binded!==!0&&(e.bind(f),e.color_scheme_binded=!0)})});"custom"!=o&&(l=r[o].colors,t.each(l,function(o,c){e.customize.has(o)&&e.customize(o,function(e){e.set(c)}),e.customize.control.has(o)&&e.customize.control(o,function(e){var o=e.container.find(".color-picker-hex");t(o).iris("color",c)})}))};var m=function(){var e=t('[data-value="'+c.setting.get()+'"]',n);t(".scheme.selected",n).removeClass("selected"),e.addClass("selected")},h=null,f=function(){if(null!==h&&clearTimeout(h),"custom"==c.setting.get())return!1;var t=!0,o=!0,s="",n="";for(color in l)if(e.customize.has(color))if(e.customize(color,function(e){n=e.get()}),o){if(o=!1,s=n,a.indexOf(s)<0){t=!1;break}}else if(s!==n){t=!1;break}return 0==t&&(h=setTimeout(function(){c.setting.set("custom"),h=null},200)),!1};s.hide(),t('.scheme[data-value="'+c.setting.get()+'"]',n).addClass("selected"),c.setting.bind(m),o(c.setting.get()),m(),u.on("click",function(e){e.preventDefault(),o(c.setting.get())}),t(".color",i).on("click",function(e){e.preventDefault();var o=t(this).closest(".scheme");o.hasClass("selected")||c.setting.set(o.data("value"))})}}),t.extend(e.customize.controlConstructor,{"color-scheme":e.customize.ColorSchemeControl})}(wp,jQuery);