!function(t,s){t.customize.SocialButtonsControl=t.customize.Control.extend({ready:function(){function o(t){var o=[];s(".social-button",t).each(function(){var t,c;c=s("select.social",this).val(),"custom"==c&&(c=s(".custom-social input",this).val()),css_class=s("input.css-class",this).val(),t=s("input.url",this).val(),o.push({social:c,css_class:css_class,url:t})}),c.setting.set(o)}var c=this,e=s(".social-buttons",this.container),i=s(".add-social-button",this.container),l=this.setting.get(),a=this.params.socials,n=t.template("social-button");s.each(l,function(t,s){var o,c=s.social,i=s.url,l=s.css_class;o="custom",a[c]&&(o=c),e.append(n({social:o,social_value:c,url:i,css_class:l,editing:!1}))}),i.on("click",function(t){t.preventDefault();var o=s(".social-buttons",s(this).closest(".customize-control-content")),c=s(n({social:"",social_value:"",url:"",css_class:"",editing:!0}));c.appendTo(o).find(".fields select.social").trigger("change"),s(".wp-full-overlay-sidebar-content").animate({scrollTop:s(".social-button:last-of-type",o).offset().top},500)}),e.on("change",".social-button select.social",function(){var t=s(".custom-social",s(this).closest(".social-button"));t.hide(),"custom"==s(this).val()&&t.show()}),e.on("change","select, input",function(){var t,c,e=s(this).closest(".social-button"),i=e.closest(".social-buttons"),l=s(".fields select.social",e).val(),u=s(".fields input.url",e).val();t="custom",a[l]&&(t=l),c=t,c.replace(/[^a-z0-9]/g,function(t){var s=t.charCodeAt(0);return 32==s?"-":s>=65&&90>=s?t.toLowerCase():"__"+("000"+s.toString(16)).slice(-4)}),e.replaceWith(n({social:t,social_value:l,url:u,css_class:c,editing:!0})),o(i)}),e.on("click",".social-button .preview .social-button-preview",function(t){t.preventDefault();var o=s(this).closest(".social-button"),c=s(".fields",o);c.toggle()}),e.on("click",".social-button .preview .remove-button",function(t){t.preventDefault();var c=s(this).closest(".social-button"),e=c.closest(".social-buttons");c.remove(),o(e)}),e.on("click",".social-button .preview .reorder-button",function(t){t.preventDefault();var c=s(this).closest(".social-button"),e=s(this).hasClass("move-up")?!0:!1,i=c.closest(".social-buttons");if(!(e&&c.is(":first-of-type")||!e&&c.is(":last-of-type"))){if(e){var l=c.prev(".social-button");l.before(c.clone())}else{var a=c.next(".social-button");a.after(c.clone())}c.remove(),o(i)}})}}),s.extend(t.customize.controlConstructor,{"social-buttons":t.customize.SocialButtonsControl})}(wp,jQuery);